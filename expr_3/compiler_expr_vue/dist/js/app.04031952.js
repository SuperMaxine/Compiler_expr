(function(t){function e(e){for(var a,n,s=e[0],o=e[1],c=e[2],h=0,f=[];h<s.length;h++)n=s[h],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&f.push(l[n][0]),l[n]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],a=!0,s=1;s<r.length;s++){var o=r[s];0!==l[o]&&(a=!1)}a&&(i.splice(e--,1),t=n(n.s=r[0]))}return t}var a={},l={app:0},i=[];function n(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=a,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=o;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"2f0d":function(t,e,r){var a={"./locale":"c020","./locale.js":"c020"};function l(t){var e=i(t);return r(e)}function i(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}l.keys=function(){return Object.keys(a)},l.resolve=i,t.exports=l,l.id="2f0d"},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("7a23"),l=Object(a["m"])("h1",null,"编译原理实验环境",-1),i=Object(a["l"])("加载文件"),n=Object(a["m"])("h2",null,"1 词法分析",-1),s=Object(a["l"])("词法分析"),o=Object(a["m"])("br",null,null,-1),c=Object(a["m"])("br",null,null,-1),u=Object(a["m"])("h2",null,"2 语法分析",-1),h=Object(a["l"])(" 语法分析 "),f=Object(a["m"])("br",null,null,-1),m=Object(a["m"])("h3",null,"2.1 DFA",-1),b=Object(a["m"])("h3",null,"2.2 SLR分析表",-1),p=Object(a["m"])("br",null,null,-1),d=Object(a["m"])("h3",null,"2.3 输入归约规则",-1),O=Object(a["l"])(" 原表达式 "),g=Object(a["l"])("确认归约规则，构建语法树"),y=Object(a["m"])("br",null,null,-1),j=Object(a["m"])("h3",null,"2.4 自底向上LR归约步骤",-1),v=Object(a["m"])("br",null,null,-1),S=Object(a["m"])("h3",null,"2.5 语法树",-1),T=Object(a["m"])("br",null,null,-1),w=Object(a["m"])("h3",null,"2.6 三地址码",-1);function x(t,e,r,x,R,L){var G=Object(a["K"])("el-col"),_=Object(a["K"])("el-button"),I=Object(a["K"])("el-row"),C=Object(a["K"])("el-input"),F=Object(a["K"])("vue3-mermaid"),N=Object(a["K"])("el-table-column"),Z=Object(a["K"])("el-table");return Object(a["D"])(),Object(a["i"])(I,{gutter:20},{default:Object(a["Z"])((function(){return[Object(a["m"])(G,{span:2}),Object(a["m"])(G,{span:20},{default:Object(a["Z"])((function(){return[Object(a["m"])(I,{gutter:20},{default:Object(a["Z"])((function(){return[Object(a["m"])(G,{span:22},{default:Object(a["Z"])((function(){return[l]})),_:1}),Object(a["m"])(G,{span:2},{default:Object(a["Z"])((function(){return[Object(a["m"])(_,{type:"success",round:"",onClick:L.loadFile},{default:Object(a["Z"])((function(){return[i]})),_:1},8,["onClick"])]})),_:1})]})),_:1}),n,Object(a["m"])(I,{gutter:20},{default:Object(a["Z"])((function(){return[Object(a["m"])(G,{span:22},{default:Object(a["Z"])((function(){return[Object(a["m"])(C,{type:"textarea",autosize:{minRows:5},placeholder:"请输入源代码",modelValue:R.RawLex,"onUpdate:modelValue":e[1]||(e[1]=function(t){return R.RawLex=t})},null,8,["modelValue"])]})),_:1}),Object(a["m"])(G,{span:2},{default:Object(a["Z"])((function(){return[Object(a["m"])(_,{type:"primary",onClick:L.Lex_parser},{default:Object(a["Z"])((function(){return[s]})),_:1},8,["onClick"])]})),_:1})]})),_:1}),o,Object(a["m"])(I,{gutter:20},{default:Object(a["Z"])((function(){return[Object(a["m"])(G,{span:24},{default:Object(a["Z"])((function(){return[Object(a["m"])(C,{type:"textarea",autosize:{minRows:5},placeholder:"词法分析结果",modelValue:R.LexResult,"onUpdate:modelValue":e[2]||(e[2]=function(t){return R.LexResult=t}),disabled:""},null,8,["modelValue"])]})),_:1})]})),_:1}),c,u,Object(a["m"])(I,{gutter:20},{default:Object(a["Z"])((function(){return[Object(a["m"])(G,{span:22},{default:Object(a["Z"])((function(){return[Object(a["m"])(C,{type:"textarea",autosize:{minRows:1},placeholder:"请输入终结符,以\\分割,不要包含空格",modelValue:R.RawTerminalSymbols,"onUpdate:modelValue":e[3]||(e[3]=function(t){return R.RawTerminalSymbols=t})},null,8,["modelValue"])]})),_:1}),Object(a["m"])(G,{span:2},{default:Object(a["Z"])((function(){return[Object(a["m"])(_,{type:"primary",onClick:L.grammar_parser},{default:Object(a["Z"])((function(){return[h]})),_:1},8,["onClick"])]})),_:1})]})),_:1}),f,Object(a["m"])(I,{gutter:20},{default:Object(a["Z"])((function(){return[Object(a["m"])(G,null,{default:Object(a["Z"])((function(){return[Object(a["m"])(C,{type:"textarea",autosize:{minRows:5},placeholder:"请输入语法",modelValue:R.RawGrammar,"onUpdate:modelValue":e[4]||(e[4]=function(t){return R.RawGrammar=t})},null,8,["modelValue"])]})),_:1})]})),_:1}),m,Object(a["m"])(F,{nodes:R.graph,type:"graph TD",key:R.graph},null,8,["nodes"]),b,Object(a["m"])(Z,{data:R.SLRtableData,style:{width:"100%"},height:"650",stripe:""},{default:Object(a["Z"])((function(){return[Object(a["m"])(N,{fixed:"",prop:"num",label:" ",width:"50"}),Object(a["m"])(N,{label:"ACTION"},{default:Object(a["Z"])((function(){return[(Object(a["D"])(!0),Object(a["i"])(a["b"],null,Object(a["I"])(R.SLRtableCol1,(function(t){return Object(a["D"])(),Object(a["i"])(N,{key:t,prop:t,label:t},null,8,["prop","label"])})),128))]})),_:1}),Object(a["m"])(N,{label:"GOTO"},{default:Object(a["Z"])((function(){return[(Object(a["D"])(!0),Object(a["i"])(a["b"],null,Object(a["I"])(R.SLRtableCol2,(function(t){return Object(a["D"])(),Object(a["i"])(N,{key:t,prop:t,label:t},null,8,["prop","label"])})),128))]})),_:1})]})),_:1},8,["data"]),p,d,Object(a["m"])(I,{gutter:20},{default:Object(a["Z"])((function(){return[Object(a["m"])(G,{span:6},{default:Object(a["Z"])((function(){return[O]})),_:1}),Object(a["m"])(G,{span:12}),Object(a["m"])(G,{span:4},{default:Object(a["Z"])((function(){return[Object(a["m"])(_,{type:"primary",onClick:L.GrammarFunctionReturner},{default:Object(a["Z"])((function(){return[g]})),_:1},8,["onClick"])]})),_:1}),Object(a["m"])(G,{span:2})]})),_:1}),(Object(a["D"])(!0),Object(a["i"])(a["b"],null,Object(a["I"])(R.GrammarFunction,(function(t){return Object(a["D"])(),Object(a["i"])(I,{gutter:20,key:t.str},{default:Object(a["Z"])((function(){return[Object(a["m"])(G,{span:6},{default:Object(a["Z"])((function(){return[Object(a["l"])(Object(a["O"])(t.str),1)]})),_:2},1024),Object(a["m"])(G,{span:18},{default:Object(a["Z"])((function(){return[Object(a["m"])(C,{type:"textarea",autosize:{minRows:5,maxRows:5},placeholder:"请输入归约规则",modelValue:t.FuncStr,"onUpdate:modelValue":function(e){return t.FuncStr=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)]})),_:2},1024)})),128)),y,j,Object(a["m"])(Z,{data:R.tableProcess,border:"",style:{width:"100%"}},{default:Object(a["Z"])((function(){return[Object(a["m"])(N,{prop:"idx",label:"步骤"}),Object(a["m"])(N,{prop:"state",label:"状态栈"}),Object(a["m"])(N,{prop:"sym",label:"符号栈"}),Object(a["m"])(N,{prop:"next",label:"Next"}),Object(a["m"])(N,{prop:"act",label:"动作说明"})]})),_:1},8,["data"]),v,S,Object(a["m"])(C,{type:"textarea",autosize:{minRows:5},placeholder:"语法树",modelValue:R.treeText,"onUpdate:modelValue":e[5]||(e[5]=function(t){return R.treeText=t}),disabled:""},null,8,["modelValue"]),T,w,Object(a["m"])(C,{type:"textarea",autosize:{minRows:5},placeholder:"三地址码",modelValue:R.Result,"onUpdate:modelValue":e[6]||(e[6]=function(t){return R.Result=t}),disabled:""},null,8,["modelValue"])]})),_:1}),Object(a["m"])(G,{span:2})]})),_:1})}var R=r("b85c"),L=(r("d3b7"),r("6062"),r("3ca3"),r("ddb0"),r("ac1f"),r("1276"),r("25f0"),r("4de4"),r("159b"),r("a15b"),r("caad"),r("2532"),r("9911"),r("a434"),r("fb6a"),r("bc3a")),G=r.n(L),_=r("3fd4"),I={name:"App",components:{},data:function(){return{readFile:!1,RawLex:"",LexResult:"",LexStream:[],RawTerminalSymbols:"",TerminalSymbols:new Set,unTerminalSymbols:new Set,RawGrammar:"",GrammarStream:[],first:{},follow:{},itemSet:[],itemfamily:[],goMap:[],ACTION:[],GOTO:[],graph:[],SLRtableData:[],SLRtableCol1:[],SLRtableCol2:[],GrammarFunction:[],placeNum:-1,labelNum:-1,tableProcess:[],stepProcess:0,Result:"三地址码",treeText:"",errorText:""}},methods:{loadFile:function(){var t=this;G.a.get("./a.json").then((function(e){console.log("res.data = ",e.data),t.RawLex=e.data["rawLex"],t.RawTerminalSymbols=e.data["terminalSymbols"],t.RawGrammar=e.data["rawGrammar"],t.GrammarFunction=e.data["GrammarFuntion"],t.readFile=!0}))},Lex_parser:function(){this.LexResult="";var t,e,r=/(0(?:x|X)[a-fA-F0-9]+(?:\.[0-9a-fA-F]+){0,1})|(0[0-7]+(?:\.[0-7]+){0,1})|(if|then|else|while|do)|([a-zA-Z](?:[a-zA-Z]|\d)*(?:_|\.(?:[a-zA-Z]|\d)+){0,1})|([0-9]+(?:\.[0-9]+){0,1})|(\+|-|\*|\/|>|<|=|\(|\)|;)/g;while(null!=(t=r.exec(this.RawLex)))if(t[1]){var a=t[0].split("."),l=parseInt(parseInt(a[0],16).toString(10));if(a.length>1)for(e=0;e<a[1].length;e++)l+=parseInt(a[1][e],16)/Math.pow(16,e+1);this.LexResult+="INT16\t"+l+"\n",this.LexStream.push({type:"INT16",attribute:l})}else if(t[2]){var i=t[0].split("."),n=parseInt(parseInt(i[0],8).toString(10));if(i.length>1)for(e=0;e<i[1].length;e++)n+=parseInt(i[1][e],8)/Math.pow(8,e+1);this.LexResult+="INT8\t"+n+"\n",this.LexStream.push({type:"INT8",attribute:n})}else t[3]?(this.LexResult+=t[0].toLocaleUpperCase()+"\t _\n",this.LexStream.push({type:t[0].toLocaleUpperCase(),attribute:"_"})):t[4]?(this.LexResult+="IDN\t"+t[0]+"\n",this.LexStream.push({type:"IDN",attribute:t[0]})):t[5]?(this.LexResult+="INT10\t"+t[0]+"\n",this.LexStream.push({type:"INT10",attribute:t[0]})):t[6]&&(this.LexResult+=t[0]+"\t _\n",this.LexStream.push({type:t[0],attribute:"_"}));this.LexStream.push({type:"#",attribute:"_"}),console.log("词法输入栈：",this.LexStream)},init_grammar_parser:function(){this.GrammarStream=[],this.TerminalSymbols=new Set,this.unTerminalSymbols=new Set,this.GrammarStream=[],this.first={},this.follow={},this.itemSet=[],this.itemfamily=[],this.goMap=[],this.graph=[],this.ACTION=[],this.GOTO=[],this.SLRtableData=[],this.SLRtableCol1=[],this.SLRtableCol2=[],this.readFile||(this.GrammarFunction=[]),this.placeNum=-1,this.tableProcess=[],this.stepProcess=0,this.Result="Fuck"},grammar_parser:function(){var t=this;if(this.init_grammar_parser(),this.TerminalSymbols=this.RawTerminalSymbols.split(" ").filter((function(t){return" "!=t})),console.log("终结符：",this.TerminalSymbols),this.RawGrammar.split("\n").forEach((function(e){""!=e&&t.GrammarStream.push(t.genGrammar(e))})),this.GrammarStream.unshift({left:"S'",right:[this.GrammarStream[0]["left"]],dot:0}),console.log("结构化文法",this.GrammarStream),!this.readFile){var e,r=Object(R["a"])(this.GrammarStream);try{for(r.s();!(e=r.n()).done;){var a=e.value;this.GrammarFunction.push({str:a["left"]+"->"+a["right"].join(" "),FuncStr:""})}}catch(f){r.e(f)}finally{r.f()}}var l,i=Object(R["a"])(this.GrammarStream);try{for(i.s();!(l=i.n()).done;){var n,s=l.value,o=Object(R["a"])(s["right"]);try{for(o.s();!(n=o.n()).done;){var c=n.value;this.TerminalSymbols.includes(c)||this.unTerminalSymbols.add(c)}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}console.log("非终结符集：",this.unTerminalSymbols),this.handleFIRST(),console.log("FIRST集：",this.first),this.handleFOLLOW(),console.log("FOLLOW集：",this.follow);for(var u=0;u<this.GrammarStream.length;u++)for(var h=0;h<this.GrammarStream[u]["right"].length;h++)this.itemSet.push({left:this.GrammarStream[u]["left"],right:this.GrammarStream[u]["right"],dot:h});console.log("项目集：",this.itemSet),this.itemfamily.push(this.closure([this.itemSet[0]])),console.log("初始项目规范族：",this.itemfamily),this.genItemFamily(),console.log("项目规范族：",this.itemfamily),console.log("goMap:",this.goMap),this.showDFA(),this.genACTIONGOTO(),this.showSLRSheet()},genGrammar:function(t){var e=t.split("->");2!=e.length&&(console.error("文法错误: 生成式不分为左右两个部分"),console.log(e)),1!=e[0].length&&(console.error("文法错误: 生成式左侧不止一个变量"),console.log(e));var r=e[0],a=e[1].split(" ").filter((function(t){return" "!=t}));return{left:r,right:a,dot:0}},handleFIRST:function(){this.first["S'"]=[];var t,e=Object(R["a"])(this.unTerminalSymbols);try{for(e.s();!(t=e.n()).done;){var r=t.value;this.first[r]=[]}}catch(h){e.e(h)}finally{e.f()}var a=!0;while(a){a=!1;var l,i=Object(R["a"])(this.GrammarStream);try{for(i.s();!(l=i.n()).done;){var n=l.value,s=0;while(s<n["right"].length){if(!this.unTerminalSymbols.has(n["right"][s])){this.first[n["left"]].includes(n["right"][s])||(this.first[n["left"]].push(n["right"][s]),a=!0);break}var o,c=Object(R["a"])(this.first[n["right"][s]]);try{for(c.s();!(o=c.n()).done;){var u=o.value;this.first[n["left"]].includes(u)||"e"==u||(this.first[n["left"]].push(u),a=!0)}}catch(h){c.e(h)}finally{c.f()}if(!this.first[n["right"][s]].includes("e"))break;s+=1}}}catch(h){i.e(h)}finally{i.f()}}},handleFOLLOW:function(){this.follow["S'"]=["#"];var t,e=Object(R["a"])(this.unTerminalSymbols);try{for(e.s();!(t=e.n()).done;){var r=t.value;this.follow[r]=[]}}catch(g){e.e(g)}finally{e.f()}var a=!0;while(a){a=!1;var l,i=Object(R["a"])(this.GrammarStream);try{for(i.s();!(l=i.n()).done;){var n=l.value,s=0,o=0;while(s<n["right"].length)if(this.unTerminalSymbols.has(n["right"][s])){if(o=s+1,o==n["right"].length){var c,u=Object(R["a"])(this.follow[n["left"]]);try{for(u.s();!(c=u.n()).done;){var h=c.value;this.follow[n["right"][s]].includes(h)||(this.follow[n["right"][s]].push(h),a=!0)}}catch(g){u.e(g)}finally{u.f()}break}while(o<n["right"].length){if(!this.unTerminalSymbols.has(n["right"][o])){this.follow[n["right"][s]].includes(n["right"][o])||(this.follow[n["right"][s]].push(n["right"][o]),a=!0),s+=1;break}var f,m=Object(R["a"])(this.first[n["right"][o]]);try{for(m.s();!(f=m.n()).done;){var b=f.value;this.follow[n["right"][s]].includes(b)||"e"==b||(this.follow[n["right"][s]].push(b),a=!0)}}catch(g){m.e(g)}finally{m.f()}if(!this.first[n["right"][o]].includes("e")){s+=1;break}if(o+=1,o==n["right"].length){var p,d=Object(R["a"])(this.follow[n["left"]]);try{for(d.s();!(p=d.n()).done;){var O=p.value;this.follow[n["right"][s]].includes(O)||(this.follow[n["right"][s]].push(O),a=!0)}}catch(g){d.e(g)}finally{d.f()}}}}else s+=1}}catch(g){i.e(g)}finally{i.f()}}},closure:function(t){var e,r=[],a=Object(R["a"])(t);try{for(a.s();!(e=a.n()).done;){var l=e.value;r.push(l)}}catch(s){a.e(s)}finally{a.f()}for(var i=0;i<r.length;i++)if(t=r[i],this.unTerminalSymbols.has(t["right"][t["dot"]]))for(var n=0;n<this.itemSet.length;n++)this.itemSet[n]["left"]!=t["right"][t["dot"]]||0!=this.itemSet[n]["dot"]||this.itemsInclude(r,this.itemSet[n])||r.push(this.itemSet[n]);return r},itemsInclude:function(t,e){var r,a=Object(R["a"])(t);try{for(a.s();!(r=a.n()).done;){var l=r.value;if(e["left"]==l["left"]&&e["right"]==l["right"]&&e["dot"]==l["dot"])return!0}}catch(i){a.e(i)}finally{a.f()}return!1},genItemFamily:function(){for(var t=0;t<this.itemfamily.length;t++){var e,r=[],a=Object(R["a"])(this.itemfamily[t]);try{for(a.s();!(e=a.n()).done;){var l=e.value;r.push(l["right"][l["dot"]])}}catch(u){a.e(u)}finally{a.f()}this.goMap[t]=[];for(var i=0,n=r;i<n.length;i++){var s=n[i],o=this.go(t,s);if(null!=o){var c=this.itemfamilyEqual(o);-1==c?(this.itemfamily.push(o),this.goMap[t][this.itemfamily.length-1]=s):this.goMap[t][c]=s}}}},go:function(t,e){if("undefined"==typeof e)return null;var r,a=this.itemfamily[t],l=[],i=Object(R["a"])(a);try{for(i.s();!(r=i.n()).done;){var n=r.value;n["right"][n["dot"]]==e&&l.push({left:n["left"],right:n["right"],dot:n["dot"]+1})}}catch(s){i.e(s)}finally{i.f()}return this.closure(l)},itemfamilyEqual:function(t){for(var e=0;e<this.itemfamily.length;e++){var r=!0;if(this.itemfamily[e].length==t.length){for(var a=0;a<t.length;a++)this.itemsInclude(this.itemfamily[e],t[a])||(r=!1);if(1==r)return e}}return-1},showDFA:function(){for(var t=0;t<this.itemfamily.length;t++){var e,r=[],a=Object(R["a"])(this.itemfamily[t]);try{for(a.s();!(e=a.n()).done;){var l=e.value;r.push(this.itemSetToString(l))}}catch(s){a.e(s)}finally{a.f()}this.graph.push({id:t,text:'"s'+t+"</br>"+r.join("</br>")+'"',next:[],link:[]})}console.log("初始化 图：",this.graph);for(var i=0;i<this.goMap.length;i++)for(var n=0;n<this.goMap[i].length;n++)null!=this.goMap[i][n]&&(this.graph[i]["next"].push(""+n),this.graph[i]["link"].push('-- "'+this.goMap[i][n]+'" --\x3e'));console.log("完成 图：",this.graph)},itemSetToString:function(t){var e=JSON.parse(JSON.stringify(t["right"]));return e.splice(t["dot"],0,"."),t["left"]+" -> "+e.join(" ")},genACTIONGOTO:function(){for(var t in this.itemfamily){this.ACTION[t]={},this.GOTO[t]={};var e,r=Object(R["a"])(this.itemfamily[t]);try{for(r.s();!(e=r.n()).done;){var a=e.value;if(a["dot"]==a["right"].length){if("S'"==a["left"]){this.ACTION[t]["#"]="acc";continue}var l,i=Object(R["a"])(this.follow[a["left"]]);try{for(i.s();!(l=i.n()).done;){var n=l.value,s=this.findgrammar(a["left"],a["right"]);this.ACTION[t][n]="r"+s}}catch(u){i.e(u)}finally{i.f()}}else if(this.unTerminalSymbols.has(a["right"][a["dot"]])){if(this.unTerminalSymbols.has(a["right"][a["dot"]]))for(var o in this.goMap[t])this.goMap[t][o]==a["right"][a["dot"]]&&(this.GOTO[t][a["right"][a["dot"]]]=o)}else for(var c in this.goMap[t])this.goMap[t][c]==a["right"][a["dot"]]&&(this.ACTION[t][a["right"][a["dot"]]]="s"+c)}}catch(u){r.e(u)}finally{r.f()}}console.log("ACTION:",this.ACTION),console.log("GOTO",this.GOTO)},findgrammar:function(t,e){for(var r in this.GrammarStream)if(this.GrammarStream[r]["left"]==t&&this.GrammarStream[r]["right"]==e)return r},showSLRSheet:function(){var t,e=Object(R["a"])(this.TerminalSymbols);try{for(e.s();!(t=e.n()).done;){var r=t.value;this.SLRtableCol1.push(r)}}catch(u){e.e(u)}finally{e.f()}this.SLRtableCol1.push("#");var a,l=Object(R["a"])(this.unTerminalSymbols);try{for(l.s();!(a=l.n()).done;){var i=a.value;this.SLRtableCol2.push(i)}}catch(u){l.e(u)}finally{l.f()}for(var n=0;n<this.itemfamily.length;n++){var s={num:"s"+n};for(var o in this.ACTION[n])s[o]=this.ACTION[n][o];for(var c in this.GOTO[n])s[c]=this.GOTO[n][c];this.SLRtableData.push(s)}},GrammarFunctionReturner:function(){var t,e=Object(R["a"])(this.GrammarFunction);try{for(e.s();!(t=e.n()).done;){var r=t.value;console.log(r["FuncStr"]);var a=new Function("return "+r["FuncStr"]);r["f"]=a()}}catch(l){e.e(l)}finally{e.f()}console.log("Build tree:"+this.buildTree())},buildTree:function(){var t=[0],e=[{type:"$"}],r=this.LexStream.shift(),a={type:r["type"],attribute:r["attribute"]};this.errorText+="_"==r["attribute"]?r["type"]+" ":r["attribute"]+" ";var l=!0;while(l)if(l=!1,this.updateProcess(t,e,a),console.log("输入栈：",this.LexStream),console.log("符号栈：",e),console.log("状态栈：",t),console.log("Next：",a),t.length==e.length){var i=this.ACTION[t.slice(-1)[0]][a["type"]];if(console.log("action:",i),void 0==i){var n="";for(var s in this.ACTION[t.slice(-1)[0]])n+=s+" ";this.$alert("<i>"+this.errorText.slice(0,-2)+' </i><font color="red">^'+this.errorText.slice(-2)+'</font><br><strong>Next character unexpected</strong><br>Expect: <font color="green">'+n+"</font>","编译错误",{confirmButtonText:"确定",dangerouslyUseHTMLString:!0})}else{if("acc"==i)return this.tableProcess[this.tableProcess.length-1]["act"]="acc",console.log("Build tree success:"),console.log(e.slice(-1)[0]),this.Result=e.slice(-1)[0]["code"],this.showTree(e.slice(-1)[0],0),_["a"].success({message:"生成三地址码成功",type:"success"}),!0;if("s"==i[0])this.tableProcess[this.tableProcess.length-1]["act"]="ACTION("+t.slice(-1)[0]+","+a["type"]+")="+i+"，状态"+i.slice(1)+"入栈",t.push(parseInt(i.slice(1))),e.push(a),r=this.LexStream.shift(),a={type:r["type"],attribute:r["attribute"]},this.errorText+="_"==r["attribute"]?r["type"]+" ":r["attribute"]+" ",l=!0;else if("r"==i[0]){var o=parseInt(i.slice(1));this.tableProcess[this.tableProcess.length-1]["act"]=i+"：用"+this.GrammarStream[o]["left"]+"->"+this.GrammarStream[o]["right"]+"归约";for(var c=[],u=0;u<this.GrammarStream[o]["right"].length;u++)c.unshift(e.pop()),t.pop();console.log("para_arr:",c),e.push(this.GrammarFunction[o]["f"](c,this)),l=!0}else _["a"].error("ACTION表内符号错误")}}else t.length<e.length?(this.tableProcess[this.tableProcess.length-1]["act"]="GOTO("+t.slice(-1)[0]+","+e.slice(-1)[0]["type"]+")状态"+this.GOTO[t.slice(-1)[0]][e.slice(-1)[0]["type"]]+"入栈",console.log("goto:",this.GOTO[t.slice(-1)[0]][e.slice(-1)[0]["type"]]),t.push(parseInt(this.GOTO[t.slice(-1)[0]][e.slice(-1)[0]["type"]])),l=!0):_["a"].error("符号栈/状态栈状态异常");return!1},updateProcess:function(t,e,r){var a,l="",i=Object(R["a"])(t);try{for(i.s();!(a=i.n()).done;){var n=a.value;l+=n+" "}}catch(f){i.e(f)}finally{i.f()}var s,o="",c=Object(R["a"])(e);try{for(c.s();!(s=c.n()).done;){var u=s.value;o+=u["type"]+" "}}catch(f){c.e(f)}finally{c.f()}var h=r["type"];this.tableProcess.push({idx:++this.stepProcess,state:l,sym:o,next:h,act:"act"})},showTree:function(t,e){console.log("tree:",t);for(var r=[],a="",l=0;l<e;l++)a+="    ";for(var i in t)"children"!=i&&"code"!=i&&("type"==i?r.push(a+i+": "+t[i]):r.push(i+": "+t[i]));if(this.treeText+=r.join(" ")+"\n","children"in t){var n,s=Object(R["a"])(t["children"]);try{for(s.s();!(n=s.n()).done;){var o=n.value;this.showTree(o,e+1)}}catch(c){s.e(c)}finally{s.f()}}}}};I.render=x;var C=I,F=(r("7dd6"),r("3ef0")),N=r.n(F),Z=function(t){t.use(_["b"],{locale:N.a})},A=r("c203"),k=Object(a["h"])(C);k.use(A["a"]),Z(k),k.mount("#app")}});
//# sourceMappingURL=app.04031952.js.map